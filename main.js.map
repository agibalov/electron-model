{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/axes.directive.ts","webpack:///./src/app/camera-driver.ts","webpack:///./src/app/camera.directive.ts","webpack:///./src/app/electron.directive.ts","webpack:///./src/app/exponential.pipe.ts","webpack:///./src/app/grid.directive.ts","webpack:///./src/app/light.directive.ts","webpack:///./src/app/lorentz.service.ts","webpack:///./src/app/manipulator.directive.ts","webpack:///./src/app/player.component.ts","webpack:///./src/app/scene.directive.ts","webpack:///./src/app/three.directive.ts","webpack:///./src/app/trajectory.directive.ts","webpack:///./src/app/vector-editor.component.ts","webpack:///./src/app/vector.pipe.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import {Component} from '@angular/core';\nimport {CameraDriver} from './camera-driver';\nimport {LorentzService, Sample} from './lorentz.service';\nimport {animate, state, style, transition, trigger} from '@angular/animations';\n\n@Component({\n  selector: 'app-root',\n  // tslint:disable:no-trailing-whitespace max-line-length\n  template: `\n    <div class=\"root-container\">\n      <div class=\"top-container\">\n        <div class=\"scene-view\">\n          <canvas manipulator\n                  (manipulationBegin)=\"cameraDriver.handleManipulationBegin(three.camera)\"\n                  (manipulationRotationUpdate)=\"cameraDriver.handleRotationUpdate($event)\"\n                  (manipulationTranslationUpdate)=\"cameraDriver.handleTranslationUpdate($event)\"\n                  (manipulationZoomUpdate)=\"cameraDriver.handleZoomUpdate($event)\"\n                  (manipulationEnd)=\"cameraDriver.handleManipulationEnd()\"\n                  three #three=\"three\">\n            <camera [position]=\"cameraDriver.cameraPosition\" [target]=\"cameraDriver.cameraTarget\" fov=\"60\"></camera>\n            <scene>\n              <light [position]=\"cameraDriver.cameraPosition\" [target]=\"cameraDriver.cameraTarget\"></light>\n              <electron *ngIf=\"showElectron\" [position]=\"currentSample.position\"></electron>\n              <trajectory *ngIf=\"showTrajectory\" [samples]=\"lorentzService.samples\"></trajectory>\n              <grid *ngIf=\"showGrid\"></grid>\n              <axes *ngIf=\"showAxes\"></axes>\n            </scene>\n          </canvas>\n          <div class=\"right-panel-button-overlay\">\n            <button *ngIf=\"isRightPanelExpanded\" type=\"button\" class=\"button\" (click)=\"collapseRightPanel()\">\n              <i class=\"fas fa-angle-double-right\"></i>\n            </button>\n            <button *ngIf=\"!isRightPanelExpanded\" type=\"button\" class=\"button\" (click)=\"expandRightPanel()\">\n              <i class=\"fas fa-angle-double-left\"></i>\n            </button>\n          </div>\n          <div class=\"bottom-panel-button-overlay\">\n            <button *ngIf=\"isBottomPanelExpanded\" type=\"button\" class=\"button\" (click)=\"collapseBottomPanel()\">\n              <i class=\"fas fa-angle-double-down\"></i>\n            </button>\n            <button *ngIf=\"!isBottomPanelExpanded\" type=\"button\" class=\"button\" (click)=\"expandBottomPanel()\">\n              <i class=\"fas fa-angle-double-up\"></i>\n            </button>\n          </div>\n          <div class=\"copyright-overlay\">\n            &copy; 2018 by <a href=\"http://agibalov.io\" target=\"_blank\">Andrey Agibalov</a>\n          </div>\n        </div>\n        <div class=\"right-panel\" [@rightPanelState]=\"rightPanelState\">\n          <div class=\"content\">\n            <app-vector-editor name=\"Start Velocity (m/s)\" [range]=\"1e6\" [(ngModel)]=\"lorentzService.startVelocity\"></app-vector-editor>\n            <app-vector-editor name=\"Electric Field (V/m)\" [range]=\"1e-5\" [(ngModel)]=\"lorentzService.electricField\"></app-vector-editor>\n            <app-vector-editor name=\"Magnetic Field (T)\" [range]=\"1e-10\" [(ngModel)]=\"lorentzService.magneticField\"></app-vector-editor>\n  \n            <pre class=\"checkboxes\">\n  \n  <label class=\"checkbox\"><input type=\"checkbox\" [(ngModel)]=\"showElectron\"> Show electron</label>\n  <label class=\"checkbox\"><input type=\"checkbox\" [(ngModel)]=\"showTrajectory\"> Show trajectory</label>\n  <label class=\"checkbox\"><input type=\"checkbox\" [(ngModel)]=\"showGrid\"> Show grid</label>\n  <label class=\"checkbox\"><input type=\"checkbox\" [(ngModel)]=\"showAxes\"> Show axes</label>\n            \n  <span class=\"has-text-weight-bold\">Number of Samples</span>: <input type=\"range\" class=\"slider is-small is-circle is-success\"\n                                                                      [min]=\"10\" [max]=\"5000\" [step]=\"1\"\n                                                                      [(ngModel)]=\"lorentzService.numberOfSamples\"> ({{lorentzService.numberOfSamples}})\n  <span class=\"has-text-weight-bold\">Time of Flight (s)</span>: <input type=\"range\" class=\"slider is-small is-circle is-success\"\n                                                                       [min]=\"0.1\" [max]=\"10\" [step]=\"1e-3\"\n                                                                       [(ngModel)]=\"lorentzService.timeOfFlight\"> ({{lorentzService.timeOfFlight | exponential}})\n            </pre>\n            <app-player [numberOfSamples]=\"lorentzService.numberOfSamples\"\n                        [(currentSampleIndex)]=\"currentSampleIndex\"></app-player>\n          </div>\n        </div>\n      </div>\n      <div class=\"bottom-container\" [@bottomPanelState]=\"bottomPanelState\">\n        <div class=\"container is-fluid\">\n          <pre>\ntimestamp: {{currentSample.timestamp | exponential}}\nposition: {{currentSample.position | vector}}\nvelocity: {{currentSample.velocity | vector}}\nacceleration: {{currentSample.acceleration | vector}}</pre>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .root-container {\n      width: 100vw;\n      height: 100vh;\n      display: flex;\n      flex-direction: column;\n    }\n    \n    .top-container {\n      flex-grow: 1;\n      display: flex;\n      flex-direction: row;\n    }\n    \n    .scene-view {\n      flex-grow: 1;\n      width: 1%;\n      position: relative;\n    }\n    \n    .scene-view canvas {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n    }\n    \n    .scene-view .right-panel-button-overlay {\n      position: absolute;\n      right: 10px;\n      top: 10px;\n    }\n\n    .scene-view .bottom-panel-button-overlay {\n      position: absolute;\n      left: 10px;\n      bottom: 10px;\n    }\n    \n    .scene-view .copyright-overlay {\n      position: absolute;\n      right: 10px;\n      bottom: 10px;\n      background-color: rgba(0, 0, 0, 0.8);\n      padding: 3px;\n    }\n    \n    .right-panel {\n      overflow-x: hidden;\n      overflow-y: auto;\n    }\n    \n    .right-panel .content {\n      padding: 10px;\n    }\n\n    .bottom-container {\n      padding-bottom: 5px;\n    }\n    \n    .checkboxes {\n      padding: 0;\n      margin: 0;\n    }\n\n    input.slider {\n      margin: 0;\n    }\n  `],\n  animations: [\n    trigger('rightPanelState', [\n      state('expanded', style({\n        width: '450px',\n        minWidth: '450px'\n      })),\n      state('collapsed', style({\n        width: '0',\n        minWidth: '0'\n      })),\n      transition('expanded => collapsed', animate('200ms ease-in-out')),\n      transition('collapsed => expanded', animate('200ms ease-in-out'))\n    ]),\n    trigger('bottomPanelState', [\n      state('expanded', style({\n\n      })),\n      state('collapsed', style({\n        height: '0'\n      })),\n      transition('expanded => collapsed', animate('200ms ease-in-out')),\n      transition('collapsed => expanded', animate('200ms ease-in-out'))\n    ])\n  ]\n  // tslint:enable:no-trailing-whitespace max-line-length\n})\nexport class AppComponent {\n  lorentzService = new LorentzService();\n  showElectron = true;\n  showTrajectory = true;\n  showGrid = true;\n  showAxes = true;\n  cameraDriver = new CameraDriver();\n  _currentSampleIndex = 0;\n\n  isRightPanelExpanded = true;\n  isBottomPanelExpanded = true;\n\n  get rightPanelState() {\n    return this.isRightPanelExpanded ? 'expanded' : 'collapsed';\n  }\n\n  expandRightPanel() {\n    this.isRightPanelExpanded = true;\n  }\n\n  collapseRightPanel() {\n    this.isRightPanelExpanded = false;\n  }\n\n  get bottomPanelState() {\n    return this.isBottomPanelExpanded ? 'expanded' : 'collapsed';\n  }\n\n  expandBottomPanel() {\n    this.isBottomPanelExpanded = true;\n  }\n\n  collapseBottomPanel() {\n    this.isBottomPanelExpanded = false;\n  }\n\n  // TODO: how do I get rid of duplicate Math.min() in get/set currentSampleIndex?\n  get currentSampleIndex() {\n    this._currentSampleIndex = Math.min(this._currentSampleIndex, this.lorentzService.samples.length - 1);\n    return this._currentSampleIndex;\n  }\n\n  set currentSampleIndex(value: number) {\n    this._currentSampleIndex = Math.min(value, this.lorentzService.samples.length - 1);\n  }\n\n  get currentSample(): Sample {\n    return this.lorentzService.samples[this.currentSampleIndex];\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport {AppComponent} from './app.component';\nimport {ThreeDirective} from './three.directive';\nimport {CameraDirective} from './camera.directive';\nimport {SceneDirective} from './scene.directive';\nimport {ElectronDirective} from './electron.directive';\nimport {ManipulatorDirective} from './manipulator.directive';\nimport {GridDirective} from './grid.directive';\nimport {LightDirective} from './light.directive';\nimport {FormsModule} from '@angular/forms';\nimport {VectorEditorComponent} from './vector-editor.component';\nimport {TrajectoryDirective} from './trajectory.directive';\nimport {ExponentialPipe} from './exponential.pipe';\nimport {AxesDirective} from './axes.directive';\nimport {PlayerComponent} from './player.component';\nimport {VectorPipe} from './vector.pipe';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ThreeDirective,\n    CameraDirective,\n    SceneDirective,\n    ElectronDirective,\n    ManipulatorDirective,\n    GridDirective,\n    LightDirective,\n    VectorEditorComponent,\n    TrajectoryDirective,\n    ExponentialPipe,\n    VectorPipe,\n    AxesDirective,\n    PlayerComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    BrowserAnimationsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {\n  ConeGeometry,\n  CylinderGeometry,\n  Group,\n  Mesh,\n  MeshLambertMaterial,\n  Scene\n} from 'three';\nimport {Directive, OnDestroy, OnInit} from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'axes'\n})\nexport class AxesDirective implements OnInit, OnDestroy {\n  private readonly cylinderMaterial = new MeshLambertMaterial({\n    color: 0xff0000\n  });\n  private readonly coneMaterial = new MeshLambertMaterial({\n    color: 0x00ff00\n  });\n  private readonly group: Group;\n\n  constructor(private scene: Scene) {\n    this.group = new Group();\n    this.group.add(this.makeAxis().rotateZ(-Math.PI / 2));\n    this.group.add(this.makeAxis());\n    this.group.add(this.makeAxis().rotateX(Math.PI / 2));\n  }\n\n  ngOnInit(): void {\n    this.scene.add(this.group);\n  }\n\n  ngOnDestroy(): void {\n    this.scene.remove(this.group);\n  }\n\n  private makeAxis(): Group {\n    const cylinderHeight = 1;\n    const cylinderGeometry = new CylinderGeometry(0.01, 0.01, cylinderHeight, 8, 1);\n    const cylinderMesh = new Mesh(cylinderGeometry, this.cylinderMaterial);\n\n    const coneHeight = 0.1;\n    const coneGeometry = new ConeGeometry(0.03, coneHeight, 8, 1);\n    coneGeometry.translate(0, cylinderHeight / 2 + coneHeight / 2, 0);\n    const coneMesh = new Mesh(coneGeometry, this.coneMaterial);\n\n    const group = new Group();\n    group.add(cylinderMesh);\n    group.add(coneMesh);\n\n    return group;\n  }\n}\n","import {Camera, Vector2, Vector3} from 'three';\n\nexport class CameraDriver {\n  cameraTarget = new Vector3(0, 0, 0);\n\n  private cameraPhi = Math.PI / 4;\n  private cameraTheta = -Math.PI / 6;\n  private cameraDistance = 1.3;\n  private manipulation: Manipulation = null;\n\n  get cameraPosition() {\n    const position = new Vector3(\n      -Math.cos(this.cameraPhi) * Math.cos(this.cameraTheta) * this.cameraDistance,\n      -Math.sin(this.cameraTheta) * this.cameraDistance,\n      Math.sin(this.cameraPhi) * Math.cos(this.cameraTheta) * this.cameraDistance\n    ).add(this.cameraTarget);\n    return position;\n  }\n\n  handleManipulationBegin(camera: Camera) {\n    const xAxis = new Vector3();\n    const yAxis = new Vector3();\n    const zAxis = new Vector3();\n    camera.matrixWorld.extractBasis(xAxis, yAxis, zAxis);\n\n    this.manipulation = {\n      phiStart: this.cameraPhi,\n      thetaStart: this.cameraTheta,\n      translationStart: this.cameraTarget,\n      horizontalAxis: xAxis.normalize(),\n      verticalAxis: yAxis.normalize(),\n      depthicalAxis: zAxis.normalize()\n    };\n  }\n\n  handleRotationUpdate(position: Vector2) {\n    this.cameraPhi = this.manipulation.phiStart + position.x * 10;\n    this.cameraTheta = this.manipulation.thetaStart + position.y * 10;\n  }\n\n  handleTranslationUpdate(position: Vector2) {\n    const horizontalTranslation = this.manipulation.horizontalAxis.clone().multiplyScalar(position.x * 3);\n    const verticalTranslation = this.manipulation.verticalAxis.clone().multiplyScalar(-position.y * 3);\n    this.cameraTarget = this.manipulation.translationStart.clone()\n      .add(horizontalTranslation)\n      .add(verticalTranslation);\n  }\n\n  handleZoomUpdate(zoom: number) {\n    const translation = this.manipulation.depthicalAxis.clone().multiplyScalar(zoom * 0.1);\n    this.cameraTarget = this.manipulation.translationStart.clone()\n      .add(translation);\n  }\n\n  handleManipulationEnd() {\n    this.manipulation = null;\n  }\n}\n\ninterface Manipulation {\n  phiStart: number;\n  thetaStart: number;\n  translationStart: Vector3;\n  horizontalAxis: Vector3;\n  verticalAxis: Vector3;\n  depthicalAxis: Vector3;\n}\n","import {PerspectiveCamera, Vector3} from 'three';\nimport {Directive, Inject, Input, OnChanges, OnDestroy, OnInit, SimpleChanges} from '@angular/core';\nimport {ThreeDirective} from './three.directive';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'camera'\n})\nexport class CameraDirective implements OnInit, OnDestroy, OnChanges {\n  @Input() position: Vector3;\n  @Input() target: Vector3;\n  @Input() fov: number;\n\n  camera: PerspectiveCamera = new PerspectiveCamera(70);\n\n  constructor(@Inject(ThreeDirective) private threeDirective: ThreeDirective) {\n  }\n\n  ngOnInit(): void {\n    this.threeDirective.setCamera(this.camera);\n  }\n\n  ngOnDestroy(): void {\n    this.threeDirective.setCamera(null);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.fov) {\n      this.camera.fov = this.fov;\n      this.camera.updateProjectionMatrix();\n    }\n\n    if (changes.position || changes.target) {\n      this.camera.position.set(this.position.x, this.position.y, this.position.z);\n      this.camera.lookAt(new Vector3(this.target.x, this.target.y, this.target.z));\n    }\n  }\n}\n","import {Mesh, MeshLambertMaterial, Scene, SphereGeometry, Vector3} from 'three';\nimport {Directive, Input, OnDestroy, OnInit} from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'electron'\n})\nexport class ElectronDirective implements OnInit, OnDestroy {\n  private static readonly SCALE = 1e-5;\n  private mesh: Mesh;\n\n  constructor(private scene: Scene) {\n    const geometry = new SphereGeometry(0.03, 7, 7);\n    const material = new MeshLambertMaterial({\n      color: 0xff0000\n    });\n    this.mesh = new Mesh(geometry, material);\n  }\n\n  @Input() set position(position: Vector3) {\n    this.mesh.position.set(position.x, position.y, position.z);\n    this.mesh.position.multiplyScalar(ElectronDirective.SCALE);\n  }\n\n  ngOnInit(): void {\n    this.scene.add(this.mesh);\n  }\n\n  ngOnDestroy(): void {\n    this.scene.remove(this.mesh);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({ name: 'exponential' })\nexport class ExponentialPipe implements PipeTransform {\n  transform(value: number): string {\n    if (value === null) {\n      return null;\n    }\n\n    return value.toExponential(1);\n  }\n}\n","import {Geometry, Line, LineBasicMaterial, Scene, Vector3} from 'three';\nimport {Directive, OnDestroy, OnInit} from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'grid'\n})\nexport class GridDirective implements OnInit, OnDestroy {\n  private static readonly SCALE = 1e-1;\n  private line: Line;\n\n  constructor(private scene: Scene) {\n    const geometry = new Geometry();\n    for (let i = -200; i <= 200; ++i) {\n      geometry.vertices.push(new Vector3(-200, 0, i));\n      geometry.vertices.push(new Vector3(200, 0, i));\n      geometry.vertices.push(new Vector3(i, 0, -200));\n      geometry.vertices.push(new Vector3(i, 0, 200));\n    }\n\n    const material = new LineBasicMaterial({\n      color: 0x7766ff\n    });\n    this.line = new Line(geometry, material);\n    this.line.scale.set(GridDirective.SCALE, GridDirective.SCALE, GridDirective.SCALE);\n  }\n\n  ngOnInit(): void {\n    this.scene.add(this.line);\n  }\n\n  ngOnDestroy(): void {\n    this.scene.remove(this.line);\n  }\n}\n","import {DirectionalLight, Scene, Vector3} from 'three';\nimport {Directive, Input, OnDestroy, OnInit} from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'light'\n})\nexport class LightDirective implements OnInit, OnDestroy {\n  private light = new DirectionalLight(0xffffffff);\n\n  constructor(private scene: Scene) {\n  }\n\n  @Input() set position(value: Vector3) {\n    this.light.position.set(value.x, value.y, value.z);\n  }\n\n  @Input() set target(value: Vector3) {\n    this.light.target.position.set(value.x, value.y, value.z);\n  }\n\n  ngOnInit(): void {\n    this.scene.add(this.light);\n    this.scene.add(this.light.target);\n  }\n\n  ngOnDestroy(): void {\n    this.scene.remove(this.light);\n    this.scene.remove(this.light.target);\n  }\n}\n","import {Vector3} from 'three';\n\nexport class LorentzService {\n  private readonly particleMass = 9.1e-31;\n  private readonly particleCharge = 1.6e-19;\n  private readonly minSubSampleTimeChange = 1e-4;\n\n  private _electricField: Vector3 = new Vector3(1e-7, 0, 0);\n  private _magneticField: Vector3 = new Vector3(1e-10, 0, 0);\n  private _startVelocity: Vector3 = new Vector3(0, 3e5, 0);\n  private _startPosition: Vector3 = new Vector3(0, 0, 0);\n  private _numberOfSamples = 500;\n  private _timeOfFlight = 5;\n  private _samples: Sample[];\n  private _shouldRecalculate = true;\n\n  set electricField(value: Vector3) {\n    if (this._electricField !== value) {\n      this._electricField = value;\n      this._shouldRecalculate = true;\n    }\n  }\n\n  get electricField(): Vector3 {\n    return this._electricField;\n  }\n\n  set magneticField(value: Vector3) {\n    if (this._magneticField !== value) {\n      this._magneticField = value;\n      this._shouldRecalculate = true;\n    }\n  }\n\n  get magneticField(): Vector3 {\n    return this._magneticField;\n  }\n\n  set startVelocity(value: Vector3) {\n    if (this._startVelocity !== value) {\n      this._startVelocity = value;\n      this._shouldRecalculate = true;\n    }\n  }\n\n  get startVelocity(): Vector3 {\n    return this._startVelocity;\n  }\n\n  set startPosition(value: Vector3) {\n    if (this._startPosition !== value) {\n      this._startPosition = value;\n      this._shouldRecalculate = true;\n    }\n  }\n\n  get startPosition(): Vector3 {\n    return this._startPosition;\n  }\n\n  set numberOfSamples(value: number) {\n    if (this._numberOfSamples !== value) {\n      this._numberOfSamples = value;\n      this._shouldRecalculate = true;\n    }\n  }\n\n  get numberOfSamples(): number {\n    return this._numberOfSamples;\n  }\n\n  set timeOfFlight(value: number) {\n    if (this._timeOfFlight !== value) {\n      this._timeOfFlight = value;\n      this._shouldRecalculate = true;\n    }\n  }\n\n  get timeOfFlight(): number {\n    return this._timeOfFlight;\n  }\n\n  get samples(): Sample[] {\n    if (this._shouldRecalculate) {\n      this._shouldRecalculate = false;\n\n      const timeChangePerSample = this.timeOfFlight / this.numberOfSamples;\n      const timeChangePerSubSample = Math.min(timeChangePerSample, this.minSubSampleTimeChange);\n      const numberOfSubSamples = Math.floor(timeChangePerSample / timeChangePerSubSample);\n      const samples: Sample[] = [];\n\n      let velocity = this.startVelocity.clone();\n      let position = this.startPosition.clone();\n      for (let sampleIndex = 0; sampleIndex < this.numberOfSamples; ++sampleIndex) {\n        for (let subSampleIndex = 0; subSampleIndex < numberOfSubSamples; ++subSampleIndex) {\n          const time = (sampleIndex * numberOfSubSamples + subSampleIndex) * timeChangePerSubSample;\n          const electricForce = this.electricField.clone().multiplyScalar(this.particleCharge);\n          const magneticForce = velocity.clone().cross(this.magneticField).multiplyScalar(this.particleCharge);\n          const lorentzForce = electricForce.clone().add(magneticForce);\n\n          const acceleration = lorentzForce.divideScalar(this.particleMass);\n\n          if (subSampleIndex === 0) {\n            const sample = new Sample(\n              time,\n              position.clone(),\n              velocity.clone(),\n              acceleration.clone(),\n              electricForce.clone(),\n              magneticForce.clone(),\n              lorentzForce.clone());\n            samples.push(sample);\n          }\n\n          velocity = velocity.clone().add(acceleration.clone().multiplyScalar(timeChangePerSubSample));\n          position = position.clone().add(velocity.clone().multiplyScalar(timeChangePerSubSample));\n        }\n      }\n\n      this._samples = samples;\n    }\n\n    return this._samples;\n  }\n}\n\nexport class Sample {\n  constructor(\n    public timestamp: number,\n    public position: Vector3,\n    public velocity: Vector3,\n    public acceleration: Vector3,\n    public electricForce: Vector3,\n    public magneticForce: Vector3,\n    public lorentzForce: Vector3) {\n  }\n}\n","import {Directive, EventEmitter, HostListener, Output} from '@angular/core';\nimport {Vector2} from 'three';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[manipulator]'\n})\nexport class ManipulatorDirective {\n  @Output() manipulationBegin = new EventEmitter<void>();\n  @Output() manipulationRotationUpdate = new EventEmitter<Vector2>();\n  @Output() manipulationTranslationUpdate = new EventEmitter<Vector2>();\n  @Output() manipulationZoomUpdate = new EventEmitter<number>();\n  @Output() manipulationEnd = new EventEmitter<void>();\n\n  private manipulationType: ManipulationType;\n  private startPos: Vector2;\n\n  private readonly MOUSE_LEFT = 0;\n  private readonly MOUSE_RIGHT = 2;\n\n  @HostListener('mousemove', ['$event'])\n  @HostListener('mousedown', ['$event'])\n  @HostListener('mouseup', ['$event'])\n  onMouseEvent(e: MouseEvent) {\n    const bounds: {width: number, height: number} = (<any>e.target).getBoundingClientRect();\n    const x = e.layerX / bounds.width;\n    const y = e.layerY / bounds.width;\n\n    if (this.startPos == null) {\n      if (e.type === 'mousedown') {\n        if (e.button === this.MOUSE_LEFT) {\n          this.manipulationType = ManipulationType.Rotation;\n          this.startPos = new Vector2(x, y);\n          this.manipulationBegin.emit();\n        } else if (e.button === this.MOUSE_RIGHT) {\n          this.manipulationType = ManipulationType.Translation;\n          this.startPos = new Vector2(x, y);\n          this.manipulationBegin.emit();\n        }\n      }\n    } else {\n      if (e.type === 'mousemove') {\n        const currentPos = new Vector2(x, y);\n        const diff = this.startPos.clone().sub(currentPos);\n        if (this.manipulationType === ManipulationType.Rotation) {\n          this.manipulationRotationUpdate.emit(diff);\n        } else if (this.manipulationType === ManipulationType.Translation) {\n          this.manipulationTranslationUpdate.emit(diff);\n        }\n      } else if (e.type === 'mouseup') {\n        if (e.button === this.MOUSE_LEFT || e.button === this.MOUSE_RIGHT) {\n          this.manipulationEnd.emit();\n          this.startPos = null;\n          this.manipulationType = null;\n        }\n      }\n    }\n  }\n\n  @HostListener('wheel', ['$event'])\n  onWheel(e: WheelEvent) {\n    e.preventDefault();\n    this.manipulationBegin.emit();\n    this.manipulationZoomUpdate.emit(e.deltaY > 0 ? 1 : -1);\n    this.manipulationEnd.emit();\n  }\n\n  @HostListener('contextmenu', ['$event'])\n  onContextMenu(e: Event) {\n    e.preventDefault();\n  }\n}\n\nenum ManipulationType {\n  Rotation,\n  Translation\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {Subscription, timer} from 'rxjs';\n\n@Component({\n  selector: 'app-player',\n  template: `\n    <input type=\"range\" class=\"slider is-large is-fullwidth\"\n           [min]=\"0\"\n           [max]=\"numberOfSamples - 1\"\n           [step]=\"1\"\n           [(ngModel)]=\"currentSampleIndex\">\n\n    <div class=\"buttons\">\n      <button type=\"button\" class=\"button is-small\" (click)=\"jumpToFirstSample()\">\n        <span class=\"icon is-small\">\n          <i class=\"fas fa-fast-backward\"></i>\n        </span>\n      </button>\n      <button type=\"button\" class=\"button is-small\" (click)=\"jumpOneSampleBack()\">\n        <span class=\"icon is-small\">\n          <i class=\"fas fa-step-backward\"></i>\n        </span>\n      </button>\n      <button type=\"button\" class=\"button is-small\" (click)=\"play()\" *ngIf=\"subscription == null\">\n        <span class=\"icon is-small\">\n          <i class=\"fas fa-play\"></i>\n        </span>\n      </button>\n      <button type=\"button\" class=\"button is-small\" (click)=\"pause()\" *ngIf=\"subscription != null\">\n        <span class=\"icon is-small\">\n          <i class=\"fas fa-pause\"></i>\n        </span>\n      </button>\n      <button type=\"button\" class=\"button is-small\" (click)=\"jumpOneSampleForward()\">\n        <span class=\"icon is-small\">\n          <i class=\"fas fa-step-forward\"></i>\n        </span>\n      </button>\n      <button type=\"button\" class=\"button is-small\" (click)=\"jumpToLastSample()\">\n        <span class=\"icon is-small\">\n          <i class=\"fas fa-fast-forward\"></i>\n        </span>\n      </button>\n      <span>Sample {{currentSampleIndex + 1}} of {{numberOfSamples}}</span>\n    </div>\n  `,\n  styles: [`\n    input {\n      padding-right: 10px;\n    }\n  `]\n})\nexport class PlayerComponent {\n  private static readonly DESIRED_PLAYBACK_TIME = 3000;\n  private _numberOfSamples: number;\n  private _currentSampleIndex: number;\n  subscription: Subscription;\n\n  @Output() currentSampleIndexChange = new EventEmitter<number>();\n\n  @Input() set numberOfSamples(value: number) {\n    if (this._numberOfSamples !== value) {\n      this._numberOfSamples = value;\n      if (this.subscription != null) {\n        this.subscription.unsubscribe();\n        this.subscription = null;\n        this.play();\n      }\n    }\n  }\n\n  get numberOfSamples() {\n    return this._numberOfSamples;\n  }\n\n  @Input() set currentSampleIndex(value: number) {\n    if (this._currentSampleIndex !== value) {\n      this._currentSampleIndex = value;\n      this.currentSampleIndexChange.emit(value);\n    }\n  }\n\n  get currentSampleIndex() {\n    return this._currentSampleIndex;\n  }\n\n  play() {\n    if (this.currentSampleIndex === this.numberOfSamples - 1) {\n      this.currentSampleIndex = 0;\n    }\n\n    const timePerSample = PlayerComponent.DESIRED_PLAYBACK_TIME / this.numberOfSamples;\n    this.subscription = timer(0, timePerSample)\n      .subscribe(t => {\n        if (this.currentSampleIndex === this.numberOfSamples - 1) {\n          this.subscription.unsubscribe();\n          this.subscription = null;\n          return;\n        }\n        ++this.currentSampleIndex;\n      });\n  }\n\n  pause() {\n    this.subscription.unsubscribe();\n    this.subscription = null;\n  }\n\n  jumpToFirstSample() {\n    this.currentSampleIndex = 0;\n  }\n\n  jumpToLastSample() {\n    this.currentSampleIndex = this.numberOfSamples - 1;\n  }\n\n  jumpOneSampleBack() {\n    if (this.currentSampleIndex > 0) {\n      --this.currentSampleIndex;\n    }\n  }\n\n  jumpOneSampleForward() {\n    if (this.currentSampleIndex < this.numberOfSamples - 1) {\n      ++this.currentSampleIndex;\n    }\n  }\n}\n","import {Scene} from 'three';\nimport {ThreeDirective} from './three.directive';\nimport {Directive, Inject, OnDestroy, OnInit} from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'scene',\n  providers: [\n    {\n      provide: Scene,\n      useFactory: () => new Scene()\n    }\n  ]\n})\nexport class SceneDirective implements OnInit, OnDestroy {\n  constructor(\n    @Inject(ThreeDirective) private threeDirective: ThreeDirective,\n    private scene: Scene) {\n  }\n\n  ngOnInit(): void {\n    this.threeDirective.setScene(this.scene);\n  }\n\n  ngOnDestroy(): void {\n    this.threeDirective.setScene(null);\n  }\n}\n","import {AfterContentChecked, Directive, ElementRef, OnDestroy, OnInit} from '@angular/core';\nimport {Camera, PerspectiveCamera, Scene, WebGLRenderer} from 'three';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[three]',\n  exportAs: 'three',\n})\nexport class ThreeDirective implements OnInit, OnDestroy, AfterContentChecked {\n  private renderer: WebGLRenderer;\n  /*private*/ camera: Camera;\n  private scene: Scene;\n  private resizePollHandle: number;\n\n  constructor(private element: ElementRef) {\n    this.renderer = new WebGLRenderer({\n      antialias: true,\n      canvas: this.element.nativeElement\n    });\n    this.renderer.setClearColor(0x000000);\n  }\n\n  render() {\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  setCamera(camera: Camera) {\n    this.camera = camera;\n  }\n\n  setScene(scene: Scene) {\n    this.scene = scene;\n  }\n\n  ngOnDestroy(): void {\n    clearInterval(this.resizePollHandle);\n  }\n\n  ngOnInit(): void {\n    this.resizePollHandle = setInterval(() => {\n      this.updateRendererAndCameraIfNeeded();\n    }, 1000);\n  }\n\n  ngAfterContentChecked(): void {\n    this.render();\n  }\n\n  private updateRendererAndCameraIfNeeded() {\n    const canvas = this.element.nativeElement;\n    const { clientWidth, clientHeight } = canvas;\n    const sizeHaveChanged =\n      canvas.width !== clientWidth ||\n      canvas.height !== clientHeight;\n\n    if (sizeHaveChanged) {\n      canvas.width = clientWidth;\n      canvas.height = clientHeight;\n      this.renderer.setSize(clientWidth, clientHeight, false);\n\n      if (this.camera instanceof PerspectiveCamera) {\n        this.camera.aspect = clientWidth / clientHeight;\n        this.camera.updateProjectionMatrix();\n      }\n\n      this.render();\n    }\n  }\n}\n","import {BufferGeometry, Float32BufferAttribute, Line, LineBasicMaterial, Scene} from 'three';\nimport {Directive, Input, OnDestroy, OnInit} from '@angular/core';\nimport {Sample} from './lorentz.service';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'trajectory'\n})\nexport class TrajectoryDirective implements OnInit, OnDestroy {\n  private static readonly SCALE = 1e-5;\n  private geometry: BufferGeometry = new BufferGeometry();\n  private positionAttribute: Float32BufferAttribute;\n  private line: Line;\n\n  constructor(private scene: Scene) {\n    this.positionAttribute = new Float32BufferAttribute(new Float32Array(3 * 5000), 3);\n    this.positionAttribute.setDynamic(true);\n    this.geometry.addAttribute('position', this.positionAttribute);\n\n    const material = new LineBasicMaterial({\n      color: 0x00ff00\n    });\n    this.line = new Line(this.geometry, material);\n    this.line.scale.set(TrajectoryDirective.SCALE, TrajectoryDirective.SCALE, TrajectoryDirective.SCALE);\n  }\n\n  @Input() set samples(samples: Sample[]) {\n    this.positionAttribute.copyVector3sArray(samples.map(s => s.position));\n    this.positionAttribute.needsUpdate = true;\n    this.geometry.setDrawRange(0, samples.length);\n  }\n\n  ngOnInit(): void {\n    this.scene.add(this.line);\n  }\n\n  ngOnDestroy(): void {\n    this.scene.remove(this.line);\n  }\n}\n","import {Component, forwardRef, Input} from '@angular/core';\nimport {Vector3} from 'three';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\n\n@Component({\n  selector: 'app-vector-editor',\n  template: `\n    <pre>\n<ng-container *ngIf=\"name != null\"><span class=\"has-text-weight-bold\">{{name}}</span>\n</ng-container>  X: <input type=\"range\" class=\"slider is-small is-circle is-success\" [min]=\"-inputRange\" [max]=\"inputRange\"\n                           [step]=\"inputStep\" [(ngModel)]=\"visualX\"> ({{realX|exponential}})\n  Y: <input type=\"range\" class=\"slider is-small is-circle is-success\" [min]=\"-inputRange\" [max]=\"inputRange\" [step]=\"inputStep\"\n            [(ngModel)]=\"visualY\"> ({{realY|exponential}})\n  Z: <input type=\"range\" class=\"slider is-small is-circle is-success\" [min]=\"-inputRange\" [max]=\"inputRange\" [step]=\"inputStep\"\n            [(ngModel)]=\"visualZ\"> ({{realZ|exponential}})</pre>\n  `,\n  styles: [`\n    pre {\n      margin: 0;\n      padding: 0;\n    }\n\n    input.slider {\n      margin: 0;\n    }\n  `],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => VectorEditorComponent),\n      multi: true\n    }\n  ]\n})\nexport class VectorEditorComponent implements ControlValueAccessor {\n  readonly inputRange = 100;\n  readonly inputStep = 1;\n\n  @Input() name: string;\n  @Input() range = 1.0;\n  vector: Vector3 = new Vector3(0, 0, 0);\n\n  onChange: (_: any) => void = () => {};\n  onTouched: () => void = () => {};\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n  }\n\n  writeValue(obj: any): void {\n    this.vector = obj;\n    this.onChange(this.vector);\n  }\n\n  get realX() {\n    return this.vector != null ? this.vector.x : null;\n  }\n\n  get visualX() {\n    return this.vector != null ? (this.vector.x / this.range) * this.inputRange : null;\n  }\n\n  set visualX(value: number) {\n    this.vector = this.vector.setX((value / this.inputRange) * this.range).clone();\n    this.onChange(this.vector);\n  }\n\n  get realY() {\n    return this.vector != null ? this.vector.y : null;\n  }\n\n  get visualY() {\n    return this.vector != null ? (this.vector.y / this.range) * this.inputRange : null;\n  }\n\n  set visualY(value: number) {\n    this.vector = this.vector.setY((value / this.inputRange) * this.range).clone();\n    this.onChange(this.vector);\n  }\n\n  get realZ() {\n    return this.vector != null ? this.vector.z : null;\n  }\n\n  get visualZ() {\n    return this.vector != null ? (this.vector.z / this.range) * this.inputRange : null;\n  }\n\n  set visualZ(value: number) {\n    this.vector = this.vector.setZ((value / this.inputRange) * this.range).clone();\n    this.onChange(this.vector);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nimport {Vector3} from 'three';\n\n@Pipe({\n  name: 'vector'\n})\nexport class VectorPipe implements PipeTransform {\n  private static readonly DIGITS = 1;\n\n  transform(v: Vector3): string {\n    if (v == null) {\n      return 'null';\n    }\n\n    return `(${v.x.toExponential(VectorPipe.DIGITS)}, ${v.y.toExponential(VectorPipe.DIGITS)}, ${v.z.toExponential(VectorPipe.DIGITS)})`;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}